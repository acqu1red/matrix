<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>–ü–µ—Ä–≤—ã–π –ú–∏–ª–ª–∏–æ–Ω | –¶–µ–Ω—Ç—Ä –°–∏–º—É–ª—è—Ü–∏–π</title>
    <link rel="stylesheet" href="styles.css">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#667eea">
    <meta name="mobile-web-app-capable" content="yes">
</head>
<body>
    <!-- Splash Screen -->
    <div id="splashScreen" class="splash-screen">
        <div class="splash-content">
            <div class="startup-logo">üí°</div>
            <h1 class="splash-title">–ü–ï–†–í–´–ô –ú–ò–õ–õ–ò–û–ù</h1>
            <p class="splash-subtitle">–û—Ç –≥–∞—Ä–∞–∂–∞ –¥–æ IPO</p>
            <div class="loading-bar">
                <div class="loading-progress"></div>
            </div>
            <p class="loading-text">–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ä—Ç–∞–ø–∞...</p>
        </div>
    </div>

    <!-- Main Game Container -->
    <div id="gameContainer" class="game-container hidden">
        <!-- Header -->
        <header class="game-header">
            <div class="back-button" onclick="goBack()">‚Üê</div>
            <div class="game-title">–ü–ï–†–í–´–ô –ú–ò–õ–õ–ò–û–ù</div>
            <div class="money-counter">$<span id="moneyAmount">5000</span></div>
        </header>

        <!-- Progress Bar -->
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="stage-indicator" id="stageIndicator">–≠—Ç–∞–ø 1/7: –ì–∞—Ä–∞–∂</div>
        </div>

        <!-- Stage 1: –ì–∞—Ä–∞–∂ (Drag & Drop –∏–¥–µ–π) -->
        <div id="stage1" class="game-stage active">
            <div class="stage-header">
                <h2>üè† –í –≥–∞—Ä–∞–∂–µ —Ç–≤–æ–µ–π –º–µ—á—Ç—ã</h2>
                <p>–°–æ–±–µ—Ä–∏ –∫–æ–º–∞–Ω–¥—É –∏ –≤—ã–±–µ—Ä–∏ –∏–¥–µ—é –¥–ª—è —Å—Ç–∞—Ä—Ç–∞–ø–∞. –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–π –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã!</p>
            </div>
            
            <div class="garage-scene">
                <div class="drop-zones">
                    <div class="drop-zone" id="teamZone" data-type="team">
                        <div class="zone-label">–ö–æ–º–∞–Ω–¥–∞</div>
                        <div class="zone-content"></div>
                    </div>
                    <div class="drop-zone" id="ideaZone" data-type="idea">
                        <div class="zone-label">–ò–¥–µ—è</div>
                        <div class="zone-content"></div>
                    </div>
                    <div class="drop-zone" id="resourceZone" data-type="resource">
                        <div class="zone-label">–†–µ—Å—É—Ä—Å—ã</div>
                        <div class="zone-content"></div>
                    </div>
                </div>

                <div class="draggable-items" id="draggableItems">
                    <!-- Items will be generated dynamically -->
                </div>
            </div>

            <div class="stage-actions">
                <button class="action-btn primary" id="validateStage1" disabled>–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—Ç–∞–ø!</button>
            </div>
        </div>

        <!-- Stage 2: –ü–µ—Ä–≤—ã–µ –∫–ª–∏–µ–Ω—Ç—ã (Swipe –º–µ—Ö–∞–Ω–∏–∫–∞) -->
        <div id="stage2" class="game-stage">
            <div class="stage-header">
                <h2>üéØ –ü–æ–∏—Å–∫ –ø–µ—Ä–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤</h2>
                <p>–°–≤–∞–π–ø–∞–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤. –í–ª–µ–≤–æ - –æ—Ç–∫–ª–æ–Ω–∏—Ç—å, –≤–ø—Ä–∞–≤–æ - –ø—Ä–∏–Ω—è—Ç—å</p>
            </div>

            <div class="client-swiper">
                <div class="client-card" id="currentClientCard">
                    <!-- Client card content -->
                </div>
                <div class="swipe-indicators">
                    <div class="reject-indicator">‚ùå –û—Ç–∫–ª–æ–Ω–∏—Ç—å</div>
                    <div class="accept-indicator">‚úÖ –ü—Ä–∏–Ω—è—Ç—å</div>
                </div>
            </div>

            <div class="client-stats">
                <div class="stat">
                    <span class="stat-label">–ö–ª–∏–µ–Ω—Ç—ã:</span>
                    <span class="stat-value" id="clientCount">0</span>
                </div>
                <div class="stat">
                    <span class="stat-label">–í—ã—Ä—É—á–∫–∞:</span>
                    <span class="stat-value" id="revenueCount">$0</span>
                </div>
            </div>
        </div>

        <!-- Stage 3: –ê–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞ (Interactive Chart) -->
        <div id="stage3" class="game-stage">
            <div class="stage-header">
                <h2>üìä –ê–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞</h2>
                <p>–ò–∑—É—á–∏ —Ç—Ä–µ–Ω–¥—ã –∏ –≤—ã–±–µ—Ä–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ—Å—Ç–∞. –ù–∞—Ä–∏—Å—É–π –ø—Ä–æ–≥–Ω–æ–∑ –ø–∞–ª—å—Ü–µ–º!</p>
            </div>

            <div class="market-analysis">
                <div class="chart-container">
                    <canvas id="marketChart" width="320" height="200"></canvas>
                    <div class="chart-overlay">
                        <div class="chart-instruction">–ù–∞—Ä–∏—Å—É–π —Å–≤–æ–π –ø—Ä–æ–≥–Ω–æ–∑ ‚Üí</div>
                    </div>
                </div>

                <div class="market-factors">
                    <h3>–§–∞–∫—Ç–æ—Ä—ã –≤–ª–∏—è–Ω–∏—è:</h3>
                    <div class="factors-grid" id="factorsGrid">
                        <!-- Dynamic factors -->
                    </div>
                </div>
            </div>

            <div class="stage-actions">
                <button class="action-btn primary" id="analyzeMarket" disabled>–ü—Ä–∏–Ω—è—Ç—å —Ä–µ—à–µ–Ω–∏–µ</button>
            </div>
        </div>

        <!-- Stage 4: –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ (Resource Management) -->
        <div id="stage4" class="game-stage">
            <div class="stage-header">
                <h2>‚ö° –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ</h2>
                <p>–†–∞—Å–ø—Ä–µ–¥–µ–ª–∏ —Ä–µ—Å—É—Ä—Å—ã –º–µ–∂–¥—É –æ—Ç–¥–µ–ª–∞–º–∏. –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–π –±—é–¥–∂–µ—Ç wisely!</p>
            </div>

            <div class="resource-management">
                <div class="budget-pool">
                    <h3>–î–æ—Å—Ç—É–ø–Ω—ã–π –±—é–¥–∂–µ—Ç: $<span id="availableBudget">100000</span></h3>
                    <div class="money-stack" id="moneyStack">
                        <!-- Money items for dragging -->
                    </div>
                </div>

                <div class="departments">
                    <div class="department" data-dept="marketing">
                        <div class="dept-icon">üì±</div>
                        <div class="dept-name">–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥</div>
                        <div class="dept-budget">$<span>0</span></div>
                        <div class="dept-drop-zone"></div>
                    </div>
                    <div class="department" data-dept="development">
                        <div class="dept-icon">üíª</div>
                        <div class="dept-name">–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞</div>
                        <div class="dept-budget">$<span>0</span></div>
                        <div class="dept-drop-zone"></div>
                    </div>
                    <div class="department" data-dept="sales">
                        <div class="dept-icon">üíº</div>
                        <div class="dept-name">–ü—Ä–æ–¥–∞–∂–∏</div>
                        <div class="dept-budget">$<span>0</span></div>
                        <div class="dept-drop-zone"></div>
                    </div>
                    <div class="department" data-dept="hr">
                        <div class="dept-icon">üë•</div>
                        <div class="dept-name">HR</div>
                        <div class="dept-budget">$<span>0</span></div>
                        <div class="dept-drop-zone"></div>
                    </div>
                </div>
            </div>

            <div class="stage-actions">
                <button class="action-btn primary" id="allocateResources" disabled>–ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ</button>
            </div>
        </div>

        <!-- Stage 5: –ö—Ä–∏–∑–∏—Å –∏ —Ä–µ—à–µ–Ω–∏—è (Quick Decisions) -->
        <div id="stage5" class="game-stage">
            <div class="stage-header">
                <h2>üî• –í—Ä–µ–º—è –∫—Ä–∏–∑–∏—Å–∞</h2>
                <p>–ë—ã—Å—Ç—Ä–æ –ø—Ä–∏–Ω–∏–º–∞–π —Ä–µ—à–µ–Ω–∏—è! –£ —Ç–µ–±—è –µ—Å—Ç—å 30 —Å–µ–∫—É–Ω–¥ –Ω–∞ –∫–∞–∂–¥–æ–µ</p>
            </div>

            <div class="crisis-management">
                <div class="timer-container">
                    <div class="timer" id="crisisTimer">30</div>
                </div>

                <div class="crisis-scenario" id="crisisScenario">
                    <!-- Dynamic crisis scenarios -->
                </div>

                <div class="decision-buttons" id="decisionButtons">
                    <!-- Dynamic decision options -->
                </div>
            </div>

            <div class="crisis-score">
                <div class="score-item">
                    <span class="score-label">–†–µ—à–µ–Ω–∏–π –ø—Ä–∏–Ω—è—Ç–æ:</span>
                    <span class="score-value" id="decisionsCount">0/5</span>
                </div>
                <div class="score-item">
                    <span class="score-label">–¢–æ—á–Ω–æ—Å—Ç—å:</span>
                    <span class="score-value" id="accuracyScore">0%</span>
                </div>
            </div>
        </div>

        <!-- Stage 6: –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ (Pitch Presentation) -->
        <div id="stage6" class="game-stage">
            <div class="stage-header">
                <h2>üí∞ –†–∞—É–Ω–¥ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π</h2>
                <p>–°–æ–∑–¥–∞–π –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è –∏–Ω–≤–µ—Å—Ç–æ—Ä–æ–≤. –†–∞—Å—Å—Ç–∞–≤—å —Å–ª–∞–π–¥—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ!</p>
            </div>

            <div class="pitch-builder">
                <div class="slide-templates" id="slideTemplates">
                    <!-- Draggable slide templates -->
                </div>

                <div class="presentation-timeline" id="presentationTimeline">
                    <div class="timeline-slots">
                        <div class="slide-slot" data-position="1">1</div>
                        <div class="slide-slot" data-position="2">2</div>
                        <div class="slide-slot" data-position="3">3</div>
                        <div class="slide-slot" data-position="4">4</div>
                        <div class="slide-slot" data-position="5">5</div>
                    </div>
                </div>

                <div class="investor-feedback" id="investorFeedback">
                    <div class="feedback-avatar">üë®‚Äçüíº</div>
                    <div class="feedback-text">–ü–µ—Ä–µ—Ç–∞—â–∏ —Å–ª–∞–π–¥—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ</div>
                </div>
            </div>

            <div class="stage-actions">
                <button class="action-btn primary" id="presentPitch" disabled>–ü—Ä–æ–≤–µ—Å—Ç–∏ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—é</button>
            </div>
        </div>

        <!-- Stage 7: IPO (Final Challenge) -->
        <div id="stage7" class="game-stage">
            <div class="stage-header">
                <h2>üöÄ –í—ã—Ö–æ–¥ –Ω–∞ IPO</h2>
                <p>–ü–æ—Å–ª–µ–¥–Ω–∏–π —Ä—ã–≤–æ–∫! –ü–æ–¥–≥–æ—Ç–æ–≤—å –∫–æ–º–ø–∞–Ω–∏—é –∫ –ø—É–±–ª–∏—á–Ω–æ–º—É —Ä–∞–∑–º–µ—â–µ–Ω–∏—é</p>
            </div>

            <div class="ipo-preparation">
                <div class="company-metrics">
                    <div class="metric">
                        <div class="metric-label">–û—Ü–µ–Ω–∫–∞ –∫–æ–º–ø–∞–Ω–∏–∏</div>
                        <div class="metric-value" id="companyValuation">$1M</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</div>
                        <div class="metric-value" id="employeeCount">10</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">–ú–µ—Å—è—á–Ω–∞—è –≤—ã—Ä—É—á–∫–∞</div>
                        <div class="metric-value" id="monthlyRevenue">$50K</div>
                    </div>
                </div>

                <div class="ipo-checklist" id="ipoChecklist">
                    <!-- Dynamic checklist items -->
                </div>

                <div class="stock-price-simulator">
                    <h3>–¶–µ–Ω–∞ –∞–∫—Ü–∏–∏ –Ω–∞ —Å—Ç–∞—Ä—Ç–µ —Ç–æ—Ä–≥–æ–≤</h3>
                    <div class="price-display" id="stockPrice">$10.00</div>
                    <div class="price-controls">
                        <button class="price-btn" data-action="decrease">üìâ</button>
                        <button class="price-btn" data-action="increase">üìà</button>
                    </div>
                </div>
            </div>

            <div class="stage-actions">
                <button class="action-btn primary" id="launchIPO">üéâ –ó–∞–ø—É—Å—Ç–∏—Ç—å IPO!</button>
            </div>
        </div>

        <!-- Victory Screen -->
        <div id="victoryScreen" class="victory-screen hidden">
            <div class="victory-content">
                <div class="victory-icon">üéâ</div>
                <h1 class="victory-title">–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!</h1>
                <p class="victory-message">–¢—ã –ø—Ä–æ—à–µ–ª –ø—É—Ç—å –æ—Ç –≥–∞—Ä–∞–∂–∞ –¥–æ IPO!</p>
                
                <div class="final-stats">
                    <div class="stat-item">
                        <span class="stat-label">–ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞:</span>
                        <span class="stat-value" id="finalValuation">$10M</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">–¢–≤–æ—è –¥–æ–ª—è:</span>
                        <span class="stat-value" id="ownershipShare">25%</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">–õ–∏—á–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:</span>
                        <span class="stat-value" id="personalWealth">$2.5M</span>
                    </div>
                </div>

                <div class="achievements" id="achievements">
                    <!-- Dynamic achievements -->
                </div>

                <div class="victory-actions">
                    <button class="action-btn primary" onclick="shareResults()">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º</button>
                    <button class="action-btn secondary" onclick="playAgain()">–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</button>
                    <button class="action-btn secondary" onclick="goBack()">–í –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay hidden">
        <div class="loading-spinner"></div>
        <p class="loading-message">–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ä–µ—à–µ–Ω–∏–µ...</p>
    </div>

    <!-- Scripts -->
    <script src="game-data.js"></script>
    <script src="game-engine.js"></script>
    <script src="touch-handler.js"></script>
    <script src="main.js"></script>
</body>
</html>
