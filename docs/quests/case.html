<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>CASE ‚Ä¢ –∑–∞—Ä–∞–±–æ—Ç–æ–∫ √ó –ø—Å–∏—Ö–æ–ª–æ–≥–∏—è</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=Sora:wght@600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./case.css" />

  <!-- Telegram WebApp SDK (fallback-loaded if missing) -->
  <script>
    (function ensureTG(){
      if(!(window.Telegram && window.Telegram.WebApp)) {
        var s=document.createElement('script');
        s.src="https://telegram.org/js/telegram-web-app.js";
        document.head.appendChild(s);
      }
    })();
  </script>
</head>
<body>
  <div id="app" class="app">
    <header class="topbar bw-glass">
      <div class="brand">
        <div class="spark"></div>
        <div class="titles">
          <h1>CASE</h1>
          <p>–∑–∞—Ä–∞–±–æ—Ç–æ–∫ √ó –ø—Å–∏—Ö–æ–ª–æ–≥–∏—è</p>
        </div>
      </div>

      <div class="wallet">
        <div class="pill" id="mulacoinPill" title="–í–∞—à –±–∞–ª–∞–Ω—Å">
          <span class="ico">ü™ô</span><span id="mulacoinAmount">0</span><span class="unit">MULACOIN</span>
        </div>
        <div class="pill" id="spinsPill" title="–î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–ø–∏–Ω—ã">
          <span class="ico">üéØ</span><span id="spinsCount">1</span><span class="unit">SPIN</span>
        </div>
        <button class="btn ghost" id="btnPrizes">–ü—Ä–∏–∑—ã</button>
        <button class="btn primary" id="btnBuy">–ö—É–ø–∏—Ç—å —Å–ø–∏–Ω ¬∑ 50 ü™ô</button>
      </div>
    </header>

    <main class="main">
      <!-- —Ä—É–ª–µ—Ç–∫–∞ -->
      <section class="roulette bw-glass">
        <div class="headline">
          <h2>–ü—Å–∏—Ö–æ–ª–æ–≥–∏—è –≤—ã–∏–≥—Ä—ã—à–∞</h2>
          <p>15 —Å–µ–∫—É–Ω–¥ —Å–∫–æ—Ä–æ—Å—Ç–∏ ‚Üí 5 —Å–µ–∫—É–Ω–¥ –∑–∞–º–µ–¥–ª–µ–Ω–∏—è ‚Üí —á–µ—Å—Ç–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ —Å—Ç—Ä–µ–ª–∫–µ.</p>
        </div>

        <div class="stage">
          <!-- –ü—Ä–µ–ø–µ–Ω–¥–∂–∏–º —Å–ª–µ–≤–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç, —á—Ç–æ–±—ã –¥–≤–∏–∂–µ–Ω–∏–µ –≤–ø—Ä–∞–≤–æ –Ω–µ —Ä–∞—Å–∫—Ä—ã–≤–∞–ª–æ—Å—å –ø—É—Å—Ç–æ—Ç–æ–π -->
          <div class="track" id="track"></div>
          <!-- —Å—Ç—Ä–µ–ª–∫–∞ —Å–Ω–∏–∑—É –ø–æ —Ü–µ–Ω—Ç—Ä—É -->
          <div class="pointer" aria-hidden="true"></div>
        </div>

        <div class="controls">
          <button id="btnSpin" class="btn huge">–ö—Ä—É—Ç–∏—Ç—å 15 c–µ–∫</button>
          <button id="btnHistory" class="btn ghost">–ò—Å—Ç–æ—Ä–∏—è</button>
        </div>

        <audio id="kazik" preload="auto">
          <source src="./assets/photovideo/kazik.mp3" type="audio/mpeg" />
        </audio>
      </section>

      <!-- –õ–µ–Ω—Ç–∞ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤ -->
      <section class="feed bw-glass">
        <div class="feed-head">
          <h3>–õ–µ–Ω—Ç–∞ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤</h3>
          <p>–í—Å–µ –∫–æ–¥—ã –∏ –Ω–∞–≥—Ä–∞–¥—ã, –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –≤ —Ä—É–ª–µ—Ç–∫–µ. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ.</p>
        </div>
        <div id="promoList" class="promo-list"></div>
      </section>
    </main>

    <footer class="foot">
      <small>–ú–∏–Ω–∏–º–∞–ª–∏–∑–º –≤ —á/–±. –§–æ–∫—É—Å –Ω–∞ –ø—Ä–∏–Ω—è—Ç–∏–∏ —Ä–µ—à–µ–Ω–∏–π ‚Äî –¥–µ–Ω—å–≥–∏ –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ. ¬© CASE</small>
    </footer>
  </div>

  <!-- –ú–æ–¥–∞–ª -->
  <div id="modal" class="modal">
    <div class="modal-body bw-glass">
      <button class="close" id="modalClose" aria-label="–ó–∞–∫—Ä—ã—Ç—å">√ó</button>
      <div id="modalContent"></div>
    </div>
  </div>

  <!-- Toast -->
  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <script src="./supabaseClient.js"></script>
  <script src="./case.js"></script>
</body>
</html>