// –ú–∏—Ä–æ–≤–æ–µ —Ç–∞–π–Ω–æ–µ –ø—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–æ - –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Å—é–∂–µ—Ç–Ω—ã–µ –ª–∏–Ω–∏–∏
class WorldGovernmentStories {
  constructor() {
    this.storyIndex = 0;
    this.currentStory = null;
    this.storyQueue = [];
    this.isAudioEnabled = true;
    this.currentVideo = null;
  }

  // –í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ –∞—É–¥–∏–æ
  toggleAudio() {
    this.isAudioEnabled = !this.isAudioEnabled;
    const audio = document.getElementById('horror-audio');
    const soundIcon = document.querySelector('.sound-icon');
    
    if (this.isAudioEnabled) {
      audio.play();
      soundIcon.textContent = 'üîä';
    } else {
      audio.pause();
      soundIcon.textContent = 'üîá';
    }
  }

  // –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –≤–∏–¥–µ–æ-—Ñ–æ–Ω–∞
  playVideoBackground(videoPath) {
    const videoBg = document.getElementById('story-video-bg');
    const video = document.getElementById('story-video');
    
    if (videoPath) {
      video.src = videoPath;
      videoBg.classList.remove('hidden');
      this.currentVideo = videoPath;
    } else {
      videoBg.classList.add('hidden');
      this.currentVideo = null;
    }
  }

  // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—Å–µ—Ö —Å—é–∂–µ—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
  generateAllStories(assignments) {
    this.storyQueue = [];
    
    // –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
    const politicalCount = assignments.political?.length || 0;
    const militaryCount = assignments.military?.length || 0;
    const economicCount = assignments.economic?.length || 0;
    const researchCount = assignments.research?.length || 0;
    const propagandaCount = assignments.propaganda?.length || 0;

    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å—é–∂–µ—Ç—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
    this.generateIntroStories();
    this.generatePoliticalStories(politicalCount);
    this.generateMilitaryStories(militaryCount);
    this.generateEconomicStories(economicCount);
    this.generateResearchStories(researchCount);
    this.generatePropagandaStories(propagandaCount);
    this.generateCrossSectorStories(assignments);
    this.generateCrisisStories(assignments);
    this.generateSuccessStories(assignments);
    this.generateFinalStories(assignments);

    return this.storyQueue;
  }

  // –í—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–µ —Å—é–∂–µ—Ç—ã
  generateIntroStories() {
    const introStories = [
      {
        title: "üåç –ù–∞—á–∞–ª–æ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏",
        content: "–í–∞—à–µ —Ç–∞–π–Ω–æ–µ –ø—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–æ –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–ª–æ –æ–ø–µ—Ä–∞—Ü–∏—é '–ú–∏—Ä–æ–≤–∞—è –¢–µ–Ω—å'. –ü–µ—Ä–≤—ã–µ –∞–≥–µ–Ω—Ç—ã –ø—Ä–æ–Ω–∏–∫–ª–∏ –≤ –∫–ª—é—á–µ–≤—ã–µ –∏–Ω—Å—Ç–∏—Ç—É—Ç—ã –≤–ª–∞—Å—Ç–∏ –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É. –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —ç–ø–æ—Ö–∞ —Ç–∞–π–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —á–µ–ª–æ–≤–µ—á–µ—Å—Ç–≤–æ–º.",
        type: "intro",
        video: null
      },
      {
        title: "üèõÔ∏è –ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Ä—ã–≤ –≤ –°–®–ê",
        content: "–í–∞—à –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–π —Å–µ–∫—Ç–æ—Ä —É—Å–ø–µ—à–Ω–æ –≤–Ω–µ–¥—Ä–∏–ª—Å—è –≤ –ë–µ–ª—ã–π –¥–æ–º –∏ –ö–æ–Ω–≥—Ä–µ—Å—Å –°–®–ê. –ü—Ä–µ–∑–∏–¥–µ–Ω—Ç –∏ –∫–ª—é—á–µ–≤—ã–µ —Å–µ–Ω–∞—Ç–æ—Ä—ã —Ç–µ–ø–µ—Ä—å –ø—Ä–∏–Ω–∏–º–∞—é—Ç —Ä–µ—à–µ–Ω–∏—è –ø–æ–¥ –≤–∞—à–∏–º –≤–ª–∏—è–Ω–∏–µ–º. –ê–º–µ—Ä–∏–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤–∞—à–µ–π –ø–µ—Ä–≤–æ–π –∫–æ–ª–æ–Ω–∏–µ–π.",
        type: "intro",
        video: null
      },
      {
        title: "‚öîÔ∏è –í–æ–µ–Ω–Ω–∞—è —ç–∫—Å–ø–∞–Ω—Å–∏—è –≤ –ï–≤—Ä–æ–ø–µ",
        content: "–í–æ–µ–Ω–Ω—ã–π —Å–µ–∫—Ç–æ—Ä —É—Å—Ç–∞–Ω–æ–≤–∏–ª –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —à—Ç–∞–±-–∫–≤–∞—Ä—Ç–∏—Ä–æ–π –ù–ê–¢–û –≤ –ë—Ä—é—Å—Å–µ–ª–µ. –°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ —è–¥–µ—Ä–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –∏ —Å–∏—Å—Ç–µ–º—ã –ø—Ä–æ—Ç–∏–≤–æ—Ä–∞–∫–µ—Ç–Ω–æ–π –æ–±–æ—Ä–æ–Ω—ã —Ç–µ–ø–µ—Ä—å –ø–æ–¥ –≤–∞—à–∏–º –∫–æ–º–∞–Ω–¥–æ–≤–∞–Ω–∏–µ–º. –ï–≤—Ä–æ–ø–∞ –±–µ–∑–∑–∞—â–∏—Ç–Ω–∞.",
        type: "intro",
        video: null
      }
    ];

    this.storyQueue.push(...introStories);
  }

  // –°—é–∂–µ—Ç—ã –¥–ª—è –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–µ–∫—Ç–æ—Ä–∞
  generatePoliticalStories(count) {
    const politicalStories = [];

    if (count >= 1) {
      politicalStories.push({
        title: "üèõÔ∏è –ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–π —Ç—Ä–∏—É–º—Ñ –≤ –ï–°",
        content: "–í–∞—à–∏ –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –∞–≥–µ–Ω—Ç—ã –ø—Ä–æ–≤–µ–ª–∏ —Ä–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–µ —Ä–µ—Ñ–æ—Ä–º—ã –≤ –ï–≤—Ä–æ–ø–µ–π—Å–∫–æ–º –°–æ—é–∑–µ. –ë—Ä—é—Å—Å–µ–ª—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥ –≤–∞—à–∏–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º. –ï–≤—Ä–æ–ø–µ–π—Å–∫–∏–π –ø–∞—Ä–ª–∞–º–µ–Ω—Ç —Ç–µ–ø–µ—Ä—å –≥–æ–ª–æ—Å—É–µ—Ç –ø–æ –≤–∞—à–∏–º —É–∫–∞–∑–∞–Ω–∏—è–º.",
        type: "success",
        sector: "political",
        video: null
      });
    }

    if (count >= 2) {
      politicalStories.push({
        title: "ü§ù –î–∏–ø–ª–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–±–µ–¥–∞ –≤ –ê–∑–∏–∏",
        content: "–í–∞—à–∏ –¥–∏–ø–ª–æ–º–∞—Ç—ã –∑–∞–∫–ª—é—á–∏–ª–∏ —Ç–∞–π–Ω—ã–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è —Å –ö–∏—Ç–∞–µ–º, –Ø–ø–æ–Ω–∏–µ–π –∏ –Æ–∂–Ω–æ–π –ö–æ—Ä–µ–µ–π. –ê–∑–∏–∞—Ç—Å–∫–æ-–¢–∏—Ö–æ–æ–∫–µ–∞–Ω—Å–∫–∏–π —Ä–µ–≥–∏–æ–Ω —Ç–µ–ø–µ—Ä—å –≤–∞—à–∞ —Å—Ñ–µ—Ä–∞ –≤–ª–∏—è–Ω–∏—è. –ü–µ–∫–∏–Ω –∏ –¢–æ–∫–∏–æ –ø–æ–¥—á–∏–Ω—è—é—Ç—Å—è –≤–∞—à–∏–º –ø—Ä–∏–∫–∞–∑–∞–º.",
        type: "success",
        sector: "political",
        video: null
      });
    }

    if (count >= 3) {
      politicalStories.push({
        title: "‚öñÔ∏è –ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–æ–Ω–Ω–∞—è —Ä–µ–≤–æ–ª—é—Ü–∏—è",
        content: "–í–∞—à–∏ —é—Ä–∏—Å—Ç—ã –≤–Ω–µ—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–∏ –°–®–ê, –†–æ—Å—Å–∏–∏, –ö–∏—Ç–∞—è –∏ –ï–°. –ü—Ä–∞–≤–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤—Å–µ–≥–æ –º–∏—Ä–∞ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –≤ –≤–∞—à—É –ø–æ–ª—å–∑—É. –ó–∞–∫–æ–Ω - —ç—Ç–æ –≤—ã.",
        type: "success",
        sector: "political",
        video: null
      });
    }

    if (count >= 4) {
      politicalStories.push({
        title: "üåç –ú–∏—Ä–æ–≤—ã–µ —Å–∞–Ω–∫—Ü–∏–∏",
        content: "–ü–æ–¥ –≤–∞—à–∏–º –≤–ª–∏—è–Ω–∏–µ–º –û–û–ù –≤–≤–µ–ª–∞ —Ç–æ—Ç–∞–ª—å–Ω—ã–µ —Å–∞–Ω–∫—Ü–∏–∏ –ø—Ä–æ—Ç–∏–≤ –ò—Ä–∞–Ω–∞, –°–µ–≤–µ—Ä–Ω–æ–π –ö–æ—Ä–µ–∏ –∏ –í–µ–Ω–µ—Å—É—ç–ª—ã. –ú–∏—Ä–æ–≤–æ–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ —Å–ª–µ–ø–æ —Å–ª–µ–¥—É–µ—Ç –≤–∞—à–µ–π –ø–æ–≤–µ—Å—Ç–∫–µ. –ò–∑–æ–ª—è—Ü–∏—è - –≤–∞—à–µ –æ—Ä—É–∂–∏–µ.",
        type: "success",
        sector: "political",
        video: null
      });
    }

    // –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ —Å—é–∂–µ—Ç—ã –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
    if (count < 2) {
      politicalStories.push({
        title: "‚öîÔ∏è –ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ—Ä–æ—Ç",
        content: "–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –∞–≥–µ–Ω—Ç –≤ –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–æ–º —Å–µ–∫—Ç–æ—Ä–µ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–ª —Ç–∞–π–Ω—ã–π –∑–∞–≥–æ–≤–æ—Ä –ø—Ä–æ—Ç–∏–≤ –≤–∞—à–µ–π –≤–ª–∞—Å—Ç–∏. –ò—Å–ø–æ–ª—å–∑—É—è —Å–≤–æ–∏ –ª–∏–¥–µ—Ä—Å–∫–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ —Ö–∞—Ä–∏–∑–º—É, –æ–Ω –ø–æ–¥—Ä—ã–≤–∞–µ—Ç –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç –ø—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –∏–∑–Ω—É—Ç—Ä–∏.",
        type: "error",
        sector: "political",
        canEliminate: true,
        eliminationRequirement: 2,
        video: null
      });
    }

    if (count < 3) {
      politicalStories.push({
        title: "üîÄ –§—Ä–∞–∫—Ü–∏–æ–Ω–Ω–∞—è –±–æ—Ä—å–±–∞",
        content: "–°–æ–∑–¥–∞–Ω–∞ –º–æ—â–Ω–∞—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ñ—Ä–∞–∫—Ü–∏—è '–ù–æ–≤—ã–π –ü–æ—Ä—è–¥–æ–∫', —É–≥—Ä–æ–∂–∞—é—â–∞—è –µ–¥–∏–Ω—Å—Ç–≤—É –º–∏—Ä–æ–≤–æ–≥–æ –ø—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–∞. –†–∞–∑–Ω–æ–≥–ª–∞—Å–∏—è –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥—Ä—ã–≤–∞—é—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.",
        type: "error",
        sector: "political",
        canEliminate: true,
        eliminationRequirement: 2,
        video: null
      });
    }

    this.storyQueue.push(...politicalStories);
  }

  // –°—é–∂–µ—Ç—ã –¥–ª—è –≤–æ–µ–Ω–Ω–æ–≥–æ —Å–µ–∫—Ç–æ—Ä–∞
  generateMilitaryStories(count) {
    const militaryStories = [];

    if (count >= 1) {
      militaryStories.push({
        title: "‚öîÔ∏è –í–æ–µ–Ω–Ω–∞—è —ç–∫—Å–ø–∞–Ω—Å–∏—è –≤ –ï–≤—Ä–æ–ø–µ",
        content: "–í–∞—à–∏ –≤–æ–µ–Ω–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —à—Ç–∞–±-–∫–≤–∞—Ä—Ç–∏—Ä–æ–π –ù–ê–¢–û –≤ –ë—Ä—é—Å—Å–µ–ª–µ. –°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ —è–¥–µ—Ä–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –∏ —Å–∏—Å—Ç–µ–º—ã –ø—Ä–æ—Ç–∏–≤–æ—Ä–∞–∫–µ—Ç–Ω–æ–π –æ–±–æ—Ä–æ–Ω—ã —Ç–µ–ø–µ—Ä—å –ø–æ–¥ –≤–∞—à–∏–º –∫–æ–º–∞–Ω–¥–æ–≤–∞–Ω–∏–µ–º.",
        type: "success",
        sector: "military",
        video: null
      });
    }

    if (count >= 2) {
      militaryStories.push({
        title: "üöÄ –ö–æ—Å–º–∏—á–µ—Å–∫–æ–µ –≥–æ—Å–ø–æ–¥—Å—Ç–≤–æ",
        content: "–í–æ–µ–Ω–Ω—ã–π —Å–µ–∫—Ç–æ—Ä –∑–∞—Ö–≤–∞—Ç–∏–ª –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –≤—Å–µ–º–∏ –∫–æ—Å–º–∏—á–µ—Å–∫–∏–º–∏ —Å–ø—É—Ç–Ω–∏–∫–∞–º–∏ –º–∏—Ä–∞. GPS, —Å–∏—Å—Ç–µ–º—ã —Å–≤—è–∑–∏ –∏ —Ä–∞–∑–≤–µ–¥–∫–∏ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞—é—Ç –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –≤ –≤–∞—à–∏—Ö –∏–Ω—Ç–µ—Ä–µ—Å–∞—Ö. –ö–æ—Å–º–æ—Å - –≤–∞—à–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è.",
        type: "success",
        sector: "military",
        video: null
      });
    }

    if (count >= 3) {
      militaryStories.push({
        title: "üåä –ú–æ—Ä—Å–∫–æ–µ –ø—Ä–µ–≤–æ—Å—Ö–æ–¥—Å—Ç–≤–æ",
        content: "–í–∞—à–∏ –∞–≥–µ–Ω—Ç—ã –ø—Ä–æ–Ω–∏–∫–ª–∏ –≤ –∫–æ–º–∞–Ω–¥–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Ñ–ª–æ—Ç–æ–≤ –º–∏—Ä–∞. –ê–≤–∏–∞–Ω–æ—Å—Ü—ã, –ø–æ–¥–≤–æ–¥–Ω—ã–µ –ª–æ–¥–∫–∏ –∏ –≤–æ–µ–Ω–Ω—ã–µ –∫–æ—Ä–∞–±–ª–∏ —Ç–µ–ø–µ—Ä—å –ø–æ–¥ –≤–∞—à–∏–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º. –û–∫–µ–∞–Ω—ã - –≤–∞—à–∏ –≤–ª–∞–¥–µ–Ω–∏—è.",
        type: "success",
        sector: "military",
        video: null
      });
    }

    // –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ —Å—é–∂–µ—Ç—ã
    if (count < 2) {
      militaryStories.push({
        title: "üí• –í–æ–µ–Ω–Ω—ã–π –º—è—Ç–µ–∂",
        content: "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–π –≤–æ–µ–Ω–Ω—ã–π —Å–µ–∫—Ç–æ—Ä –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–ª –º—è—Ç–µ–∂. –ì–µ–Ω–µ—Ä–∞–ª—ã –∏ –∞–¥–º–∏—Ä–∞–ª—ã –æ–±—ä—è–≤–∏–ª–∏ –æ –Ω–µ–ø–æ–¥—á–∏–Ω–µ–Ω–∏–∏ –≤–∞—à–∏–º –ø—Ä–∏–∫–∞–∑–∞–º. –í–æ–æ—Ä—É–∂–µ–Ω–Ω—ã–µ —Å–∏–ª—ã –º–∏—Ä–∞ –≤—ã—Ö–æ–¥—è—Ç –∏–∑-–ø–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª—è.",
        type: "error",
        sector: "military",
        canEliminate: true,
        eliminationRequirement: 3,
        video: null
      });
    }

    this.storyQueue.push(...militaryStories);
  }

  // –°—é–∂–µ—Ç—ã –¥–ª—è —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–æ–≥–æ —Å–µ–∫—Ç–æ—Ä–∞
  generateEconomicStories(count) {
    const economicStories = [];

    if (count >= 1) {
      economicStories.push({
        title: "üí∞ –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–æ–µ –ø–æ—Ä–∞–±–æ—â–µ–Ω–∏–µ",
        content: "–≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–π —Å–µ–∫—Ç–æ—Ä –ø—Ä–æ–Ω–∏–∫ –≤ –§–µ–¥–µ—Ä–∞–ª—å–Ω—É—é —Ä–µ–∑–µ—Ä–≤–Ω—É—é —Å–∏—Å—Ç–µ–º—É –°–®–ê –∏ –ï–≤—Ä–æ–ø–µ–π—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –±–∞–Ω–∫. –í—Å–µ –º–∏—Ä–æ–≤—ã–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø–æ—Ç–æ–∫–∏ —Ç–µ–ø–µ—Ä—å –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ –≤–∞—à–∏ —Ä—É–∫–∏. –î–µ–Ω—å–≥–∏ - —ç—Ç–æ –≤–ª–∞—Å—Ç—å.",
        type: "success",
        sector: "economic",
        video: null
      });
    }

    if (count >= 2) {
      economicStories.push({
        title: "üè¶ –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞—è —Å–µ—Ç—å",
        content: "–í–∞—à–∏ –∞–≥–µ–Ω—Ç—ã –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é—Ç –≤—Å–µ –∫—Ä—É–ø–Ω–µ–π—à–∏–µ –±–∞–Ω–∫–∏ –º–∏—Ä–∞. SWIFT, –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã –∏ —Ü–∏—Ñ—Ä–æ–≤—ã–µ –ø–ª–∞—Ç–µ–∂–∏ —Ç–µ–ø–µ—Ä—å –ø–æ–¥ –≤–∞—à–∏–º –Ω–∞–¥–∑–æ—Ä–æ–º. –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ - –≤–∞—à–∞ –∏–≥—Ä—É—à–∫–∞.",
        type: "success",
        sector: "economic",
        video: null
      });
    }

    // –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ —Å—é–∂–µ—Ç—ã
    if (count < 2) {
      economicStories.push({
        title: "üìâ –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–π –∫—Ä–∏–∑–∏—Å",
        content: "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–∞—è —ç–∫–æ–Ω–æ–º–∏–∫–∞ –≤–ø–∞–ª–∞ –≤ –≥–ª—É–±–æ–∫–∏–π –∫—Ä–∏–∑–∏—Å. –ë–∏—Ä–∂–∏ –ø–∞–¥–∞—é—Ç, –≤–∞–ª—é—Ç—ã –æ–±–µ—Å—Ü–µ–Ω–∏–≤–∞—é—Ç—Å—è, –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω–∞—è —Ä–µ—Ü–µ—Å—Å–∏—è. –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä—É—à–∏—Ç—Å—è.",
        type: "error",
        sector: "economic",
        video: null
      });
    }

    this.storyQueue.push(...economicStories);
  }

  // –°—é–∂–µ—Ç—ã –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Å–µ–∫—Ç–æ—Ä–∞
  generateResearchStories(count) {
    const researchStories = [];

    if (count >= 1) {
      researchStories.push({
        title: "üî¨ –ù–∞—É—á–Ω–∞—è —Ä–µ–≤–æ–ª—é—Ü–∏—è",
        content: "–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å–µ–∫—Ç–æ—Ä –ø–æ–ª—É—á–∏–ª –¥–æ—Å—Ç—É–ø –∫ —Å–µ–∫—Ä–µ—Ç–Ω—ã–º –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è–º –¶–†–£, –ú–ò-6 –∏ –§–°–ë. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è, –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞ –∏ –±–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –æ—Ä—É–∂–∏—è —Ç–µ–ø–µ—Ä—å –≤ –≤–∞—à–µ–º —Ä–∞—Å–ø–æ—Ä—è–∂–µ–Ω–∏–∏.",
        type: "success",
        sector: "research",
        video: null
      });
    }

    if (count >= 2) {
      researchStories.push({
        title: "‚è∞ –ú–∞—à–∏–Ω–∞ –≤—Ä–µ–º–µ–Ω–∏",
        content: "–ë–ª–∞–≥–æ–¥–∞—Ä—è –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º—É —à—Ç–∞–±—É —Å–æ–∑–¥–∞–Ω–∞ –º–∞—à–∏–Ω–∞ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞ —Å—á–µ—Ç –º–∏–Ω–∏–∞—Ç—é—Ä–Ω—ã—Ö WARP –¥–≤–∏–≥–∞—Ç–µ–ª–µ–π. –¢–µ–ø–µ—Ä—å –≤–æ–∑–º–æ–∂–Ω–æ –ø—É—Ç–µ—à–µ—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –±—É–¥—É—â–µ–µ, –Ω–æ —ç—Ç–æ –≤—Å–µ –µ—â–µ —Å–ª–∏—à–∫–æ–º —ç–Ω–µ—Ä–≥–æ–∑–∞—Ç—Ä–∞—Ç–Ω–æ.",
        type: "success",
        sector: "research",
        video: "../../politics/puteshestvie.mp4"
      });
    }

    // –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ —Å—é–∂–µ—Ç—ã
    if (count < 2) {
      researchStories.push({
        title: "üß™ –û–ø–∞—Å–Ω—ã–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã",
        content: "–ë–ª–∞–≥–æ–¥–∞—Ä—è –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º—É —à—Ç–∞–±—É –Ω–∞—á–∞–ª–∏—Å—å –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –Ω–∞–¥ –ª—é–¥—å–º–∏. –í –ª—é–¥–µ–π –Ω–∞—á–∞–ª–∏ –≤–Ω–µ–¥—Ä—è—Ç—å –ò–ò, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è–º –∏ —É–≥—Ä–æ–∑–µ —á–µ–ª–æ–≤–µ—á–µ—Å—Ç–≤—É.",
        type: "error",
        sector: "research",
        video: "../../politics/experement.mp4"
      });
    }

    this.storyQueue.push(...researchStories);
  }

  // –°—é–∂–µ—Ç—ã –¥–ª—è –ø—Ä–æ–ø–∞–≥–∞–Ω–¥–∏—Å—Ç—Å–∫–æ–≥–æ —Å–µ–∫—Ç–æ—Ä–∞
  generatePropagandaStories(count) {
    const propagandaStories = [];

    if (count >= 1) {
      propagandaStories.push({
        title: "üì∫ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –¥–∏–∫—Ç–∞—Ç—É—Ä–∞",
        content: "–ü—Ä–æ–ø–∞–≥–∞–Ω–¥–∏—á–µ—Å–∫–∏–π —Å–µ–∫—Ç–æ—Ä –∑–∞—Ö–≤–∞—Ç–∏–ª –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ CNN, BBC, RT –∏ –≤—Å–µ–º–∏ –∫—Ä—É–ø–Ω—ã–º–∏ –°–ú–ò –º–∏—Ä–∞. –û–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –º–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –ø–æ –≤–∞—à–µ–º—É —Å—Ü–µ–Ω–∞—Ä–∏—é. –ü—Ä–∞–≤–¥–∞ - —ç—Ç–æ —Ç–æ, —á—Ç–æ –≤—ã –≥–æ–≤–æ—Ä–∏—Ç–µ.",
        type: "success",
        sector: "propaganda",
        video: null
      });
    }

    if (count >= 2) {
      propagandaStories.push({
        title: "üåê –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏ –ø–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º",
        content: "–í–∞—à–∏ –∞–≥–µ–Ω—Ç—ã –ø—Ä–æ–Ω–∏–∫–ª–∏ –≤ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ Facebook, Twitter, TikTok –∏ –≤—Å–µ—Ö –∫—Ä—É–ø–Ω—ã—Ö —Å–æ—Ü—Å–µ—Ç–µ–π. –ê–ª–≥–æ—Ä–∏—Ç–º—ã —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞—é—Ç –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –≤ –≤–∞—à–∏—Ö –∏–Ω—Ç–µ—Ä–µ—Å–∞—Ö. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è - –≤–∞—à–µ –æ—Ä—É–∂–∏–µ.",
        type: "success",
        sector: "propaganda",
        video: null
      });
    }

    if (count >= 3) {
      propagandaStories.push({
        title: "üé≠ –ú–∞—Å—Å–æ–≤—ã–µ –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏",
        content: "–ü—Ä–æ–ø–∞–≥–∞–Ω–¥–∏—á–µ—Å–∫–∏–π —Å–µ–∫—Ç–æ—Ä —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–ª —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –º–∞—Å—Å–æ–≤–æ–≥–æ –≥–∏–ø–Ω–æ–∑–∞ –∏ –Ω–µ–π—Ä–æ–ª–∏–Ω–≥–≤–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è. –ù–∞—Å–µ–ª–µ–Ω–∏–µ –ø–ª–∞–Ω–µ—Ç—ã —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥–¥–∞–µ—Ç—Å—è –≤–∞—à–∏–º –≤–Ω—É—à–µ–Ω–∏—è–º.",
        type: "success",
        sector: "propaganda",
        video: null
      });
    }

    // –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ —Å—é–∂–µ—Ç—ã
    if (count < 2) {
      propagandaStories.push({
        title: "üì∞ –£—Ç–µ—á–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏",
        content: "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–µ –°–ú–ò –Ω–∞—á–∞–ª–∏ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –ø—Ä–∞–≤–¥—É –æ –≤–∞—à–µ–º —Ç–∞–π–Ω–æ–º –ø—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–µ. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É, —É–≥—Ä–æ–∂–∞—è —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ–º –≤–∞—à–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏.",
        type: "error",
        sector: "propaganda",
        video: "../../politics/razobla4enie.mp4"
      });
    }

    this.storyQueue.push(...propagandaStories);
  }

  // –ú–µ–∂—Å–µ–∫—Ç–æ—Ä–Ω—ã–µ —Å—é–∂–µ—Ç—ã
  generateCrossSectorStories(assignments) {
    const crossSectorStories = [];

    // –ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–π + –í–æ–µ–Ω–Ω—ã–π
    if ((assignments.political?.length || 0) >= 2 && (assignments.military?.length || 0) >= 2) {
      crossSectorStories.push({
        title: "üåç –ú–∏—Ä–æ–≤–æ–µ –≥–æ—Å–ø–æ–¥—Å—Ç–≤–æ",
        content: "–ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –∏ –≤–æ–µ–Ω–Ω—ã–π —Å–µ–∫—Ç–æ—Ä—ã –æ–±—ä–µ–¥–∏–Ω–∏–ª–∏ —É—Å–∏–ª–∏—è –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–ª–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ –º–∏—Ä–æ–º. –í—Å–µ —Å—Ç—Ä–∞–Ω—ã —Ç–µ–ø–µ—Ä—å –ø–æ–¥—á–∏–Ω—è—é—Ç—Å—è –≤–∞—à–∏–º –ø—Ä–∏–∫–∞–∑–∞–º. –ú–∏—Ä–æ–≤–æ–µ –ø—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–æ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å—é.",
        type: "success",
        sectors: ["political", "military"],
        video: null
      });
    }

    // –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–π + –ü—Ä–æ–ø–∞–≥–∞–Ω–¥–∏—Å—Ç—Å–∫–∏–π
    if ((assignments.economic?.length || 0) >= 1 && (assignments.propaganda?.length || 0) >= 2) {
      crossSectorStories.push({
        title: "üí∞ –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –ø—Ä–æ–ø–∞–≥–∞–Ω–¥–∞",
        content: "–≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–π –∏ –ø—Ä–æ–ø–∞–≥–∞–Ω–¥–∏—Å—Ç—Å–∫–∏–π —Å–µ–∫—Ç–æ—Ä—ã —Å–æ–∑–¥–∞–ª–∏ —Å–∏—Å—Ç–µ–º—É —Ç–æ—Ç–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º —Å–æ–∑–Ω–∞–Ω–∏–µ–º –Ω–∞—Å–µ–ª–µ–Ω–∏—è. –õ—é–¥–∏ —Ç–µ–ø–µ—Ä—å —Ç—Ä–∞—Ç—è—Ç –¥–µ–Ω—å–≥–∏ –∏–º–µ–Ω–Ω–æ —Ç–∞–∫, –∫–∞–∫ –≤—ã —Ö–æ—Ç–∏—Ç–µ.",
        type: "success",
        sectors: ["economic", "propaganda"],
        video: null
      });
    }

    // –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π + –í–æ–µ–Ω–Ω—ã–π
    if ((assignments.research?.length || 0) >= 1 && (assignments.military?.length || 0) >= 2) {
      crossSectorStories.push({
        title: "üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–≤–æ—Å—Ö–æ–¥—Å—Ç–≤–æ",
        content: "–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏ –≤–æ–µ–Ω–Ω—ã–π —Å–µ–∫—Ç–æ—Ä—ã —Å–æ–∑–¥–∞–ª–∏ –æ—Ä—É–∂–∏–µ –±—É–¥—É—â–µ–≥–æ. –õ–∞–∑–µ—Ä—ã, –ø–ª–∞–∑–º–µ–Ω–Ω—ã–µ –ø—É—à–∫–∏ –∏ —Ä–æ–±–æ—Ç—ã-—É–±–∏–π—Ü—ã —Ç–µ–ø–µ—Ä—å –≤ –≤–∞—à–µ–º –∞—Ä—Å–µ–Ω–∞–ª–µ. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ - –≤–∞—à–∞ —Å–∏–ª–∞.",
        type: "success",
        sectors: ["research", "military"],
        video: null
      });
    }

    this.storyQueue.push(...crossSectorStories);
  }

  // –ö—Ä–∏–∑–∏—Å–Ω—ã–µ —Å—é–∂–µ—Ç—ã
  generateCrisisStories(assignments) {
    const crisisStories = [];

    // –û–±—â–∏–π –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
    const totalPersonnel = Object.values(assignments).reduce((sum, arr) => sum + (arr?.length || 0), 0);
    
    if (totalPersonnel < 8) {
      crisisStories.push({
        title: "üå™Ô∏è –ú–∞—Å—Å–æ–≤—ã–µ –±–µ—Å–ø–æ—Ä—è–¥–∫–∏",
        content: "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–µ –Ω–∞—Å–µ–ª–µ–Ω–∏–µ –Ω–∞—á–∞–ª–æ –º–∞—Å—Å–æ–≤—ã–µ –ø—Ä–æ—Ç–µ—Å—Ç—ã –ø—Ä–æ—Ç–∏–≤ –≤–ª–∞—Å—Ç–∏. –ú–∏—Ç–∏–Ω–≥–∏ –∏ —à–µ—Å—Ç–≤–∏—è –æ—Ö–≤–∞—Ç–∏–ª–∏ –≤—Å–µ –∫—Ä—É–ø–Ω—ã–µ –≥–æ—Ä–æ–¥–∞ –º–∏—Ä–∞. –°–∏—Å—Ç–µ–º–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç –¥–∞–≤–∞—Ç—å —Å–±–æ–∏.",
        type: "crisis",
        video: "../../politics/meting.mp4"
      });

      crisisStories.push({
        title: "üî• –•–∞–æ—Å –∏ –∞–Ω–∞—Ä—Ö–∏—è",
        content: "–ú–∞—Å—Å–æ–≤—ã–µ –±–µ—Å–ø–æ—Ä—è–¥–∫–∏ –ø–µ—Ä–µ—Ä–æ—Å–ª–∏ –≤ –ø–æ–ª–Ω—ã–π —Ö–∞–æ—Å. –ì—Ä–∞–±–µ–∂–∏, –ø–æ–¥–∂–æ–≥–∏ –∏ –Ω–∞—Å–∏–ª–∏–µ –æ—Ö–≤–∞—Ç–∏–ª–∏ –≤–µ—Å—å –º–∏—Ä. –í–∞—à–µ —Ç–∞–π–Ω–æ–µ –ø—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–æ —Ç–µ—Ä—è–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Å–∏—Ç—É–∞—Ü–∏–µ–π.",
        type: "crisis",
        video: "../../politics/besporyadki.mp4"
      });
    }

    // –ù–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ –≤ –≤–æ–µ–Ω–Ω–æ–º —Å–µ–∫—Ç–æ—Ä–µ
    if ((assignments.military?.length || 0) < 2) {
      crisisStories.push({
        title: "‚öîÔ∏è –í–æ–µ–Ω–Ω–∞—è —É–≥—Ä–æ–∑–∞",
        content: "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–µ –≤–æ–æ—Ä—É–∂–µ–Ω–Ω—ã–µ —Å–∏–ª—ã –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å—Ç—Ä–∞–Ω –Ω–∞—á–∞–ª–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É –∫ –≤–æ–π–Ω–µ –ø—Ä–æ—Ç–∏–≤ –≤–∞—à–µ–≥–æ —Ç–∞–π–Ω–æ–≥–æ –ø—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–∞. –í–æ–µ–Ω–Ω–∞—è —É–≥—Ä–æ–∑–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ä–µ–∞–ª—å–Ω–æ–π.",
        type: "crisis",
        video: "../../politics/war.mp4"
      });
    }

    // –ù–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ –≤ —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–æ–º —Å–µ–∫—Ç–æ—Ä–µ
    if ((assignments.economic?.length || 0) < 1) {
      crisisStories.push({
        title: "üìâ –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–π –∫–æ–ª–ª–∞–ø—Å",
        content: "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–∞—è —ç–∫–æ–Ω–æ–º–∏–∫–∞ –≤–ø–∞–ª–∞ –≤ –≥–ª—É–±–æ–∫–∏–π –∫—Ä–∏–∑–∏—Å. –ì–∏–ø–µ—Ä–∏–Ω—Ñ–ª—è—Ü–∏—è, –¥–µ—Ñ–æ–ª—Ç—ã –∏ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–∞ –æ—Ö–≤–∞—Ç–∏–ª–∏ –≤–µ—Å—å –º–∏—Ä. –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä—É—à–∏—Ç—Å—è.",
        type: "crisis",
        video: null
      });
    }

    this.storyQueue.push(...crisisStories);
  }

  // –°—é–∂–µ—Ç—ã —É—Å–ø–µ—Ö–∞
  generateSuccessStories(assignments) {
    const successStories = [];

    // –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –≤—Å–µ–º–∏ —Å–µ–∫—Ç–æ—Ä–∞–º–∏
    const hasFullControl = Object.values(assignments).every(arr => (arr?.length || 0) >= 2);
    
    if (hasFullControl) {
      successStories.push({
        title: "üëë –ê–±—Å–æ–ª—é—Ç–Ω–∞—è –≤–ª–∞—Å—Ç—å",
        content: "–í–∞—à–µ —Ç–∞–π–Ω–æ–µ –ø—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–æ –¥–æ—Å—Ç–∏–≥–ª–æ –∞–±—Å–æ–ª—é—Ç–Ω–æ–π –≤–ª–∞—Å—Ç–∏ –Ω–∞–¥ –º–∏—Ä–æ–º. –í—Å–µ —Å–µ–∫—Ç–æ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –∏–¥–µ–∞–ª—å–Ω–æ–π –≥–∞—Ä–º–æ–Ω–∏–∏. –ß–µ–ª–æ–≤–µ—á–µ—Å—Ç–≤–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥ –≤–∞—à–∏–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º.",
        type: "ultimate_success",
        video: null
      });

      successStories.push({
        title: "üåç –ù–æ–≤—ã–π –º–∏—Ä–æ–≤–æ–π –ø–æ—Ä—è–¥–æ–∫",
        content: "–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–æ–≤—ã–π –º–∏—Ä–æ–≤–æ–π –ø–æ—Ä—è–¥–æ–∫ –ø–æ–¥ –≤–∞—à–∏–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º. –í—Å–µ —Å—Ç—Ä–∞–Ω—ã, –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã, –≤—Å–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ —Ç–µ–ø–µ—Ä—å –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –≤–∞–º. –í—ã —Å—Ç–∞–ª–∏ –±–æ–≥–æ–º —ç—Ç–æ–≥–æ –º–∏—Ä–∞.",
        type: "ultimate_success",
        video: null
      });
    }

    // –í—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –∫–æ–Ω—Ç—Ä–æ–ª—è
    const highControl = Object.values(assignments).every(arr => (arr?.length || 0) >= 1);
    
    if (highControl) {
      successStories.push({
        title: "üéØ –°—Ç–∞–±–∏–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å",
        content: "–í–∞—à–µ —Ç–∞–π–Ω–æ–µ –ø—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–æ —É—Å—Ç–∞–Ω–æ–≤–∏–ª–æ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –º–∏—Ä–æ–º. –í—Å–µ —Å–µ–∫—Ç–æ—Ä—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ. –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —á–∞—Å—ã.",
        type: "high_success",
        video: null
      });
    }

    this.storyQueue.push(...successStories);
  }

  // –§–∏–Ω–∞–ª—å–Ω—ã–µ —Å—é–∂–µ—Ç—ã
  generateFinalStories(assignments) {
    const finalStories = [];

    // –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –æ–±—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    const totalPersonnel = Object.values(assignments).reduce((sum, arr) => sum + (arr?.length || 0), 0);
    const hasCrises = this.storyQueue.some(story => story.type === "crisis" || story.type === "error");

    if (totalPersonnel >= 12 && !hasCrises) {
      finalStories.push({
        title: "üèÜ –¢—Ä–∏—É–º—Ñ –º–∏—Ä–æ–≤–æ–≥–æ –ø—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–∞",
        content: "–í–∞—à–µ —Ç–∞–π–Ω–æ–µ –ø—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–æ –¥–æ—Å—Ç–∏–≥–ª–æ –∞–±—Å–æ–ª—é—Ç–Ω–æ–≥–æ —É—Å–ø–µ—Ö–∞! –ú–∏—Ä –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥ –≤–∞—à–∏–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º, –≤—Å–µ —Å–µ–∫—Ç–æ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∏–¥–µ–∞–ª—å–Ω–æ. –í—ã —Å—Ç–∞–ª–∏ –∏—Å—Ç–∏–Ω–Ω—ã–º –ø—Ä–∞–≤–∏—Ç–µ–ª–µ–º —á–µ–ª–æ–≤–µ—á–µ—Å—Ç–≤–∞.",
        type: "final_success",
        video: null
      });
    } else if (totalPersonnel >= 8 && !hasCrises) {
      finalStories.push({
        title: "‚úÖ –£—Å–ø–µ—à–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ",
        content: "–í–∞—à–µ —Ç–∞–π–Ω–æ–µ –ø—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–æ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–æ –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç. –ï—Å—Ç—å –Ω–µ–±–æ–ª—å—à–∏–µ –ø—Ä–æ–±–ª–µ–º—ã, –Ω–æ –≤ —Ü–µ–ª–æ–º —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ. –í—ã –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç–µ –±–æ–ª—å—à—É—é —á–∞—Å—Ç—å –º–∏—Ä–∞.",
        type: "final_good",
        video: null
      });
    } else if (totalPersonnel >= 5) {
      finalStories.push({
        title: "‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω—ã–π —É—Å–ø–µ—Ö",
        content: "–í–∞—à–µ —Ç–∞–π–Ω–æ–µ –ø—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–æ —Å–æ–∑–¥–∞–Ω–æ, –Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ. –ï—Å—Ç—å —Å–µ—Ä—å–µ–∑–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –∫—Ä–∏–∑–∏—Å—ã. –ö–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –º–∏—Ä–æ–º —á–∞—Å—Ç–∏—á–Ω—ã–π –∏ –Ω–µ—É–≤–µ—Ä–µ–Ω–Ω—ã–π.",
        type: "final_partial",
        video: null
      });
    } else {
      finalStories.push({
        title: "‚ùå –ü—Ä–æ–≤–∞–ª –æ–ø–µ—Ä–∞—Ü–∏–∏",
        content: "–°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–π–Ω–æ–≥–æ –º–∏—Ä–æ–≤–æ–≥–æ –ø—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –ø—Ä–æ–≤–∞–ª–∏–ª–æ—Å—å. –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞, –º–Ω–æ–≥–æ—á–∏—Å–ª–µ–Ω–Ω—ã–µ –∫—Ä–∏–∑–∏—Å—ã –∏ –æ—à–∏–±–∫–∏ –ø—Ä–∏–≤–µ–ª–∏ –∫ –∫—Ä–∞—Ö—É –≤—Å–µ–π –æ–ø–µ—Ä–∞—Ü–∏–∏.",
        type: "final_failure",
        video: null
      });
    }

    this.storyQueue.push(...finalStories);
  }

  // –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å—é–∂–µ—Ç–∞
  getNextStory() {
    if (this.storyIndex < this.storyQueue.length) {
      this.currentStory = this.storyQueue[this.storyIndex];
      this.storyIndex++;
      return this.currentStory;
    }
    return null;
  }

  // –°–±—Ä–æ—Å –∏–Ω–¥–µ–∫—Å–∞ —Å—é–∂–µ—Ç–æ–≤
  resetStoryIndex() {
    this.storyIndex = 0;
    this.currentStory = null;
  }

  // –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —Å—é–∂–µ—Ç–∞
  getCurrentStory() {
    return this.currentStory;
  }

  // –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—é–∂–µ—Ç–æ–≤
  getTotalStories() {
    return this.storyQueue.length;
  }

  // –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è
  getProgress() {
    return this.storyIndex;
  }
}

// –≠–∫—Å–ø–æ—Ä—Ç –∫–ª–∞—Å—Å–∞
if (typeof module !== 'undefined' && module.exports) {
  module.exports = WorldGovernmentStories;
}
