<!doctype html>
<html lang="ru" data-theme="modern">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>–ö–≤–µ—Å—Ç—ã</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Manrope:wght@600;700&family=JetBrains+Mono:wght@600&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="./assets/brand/favicon-64.png" />
  <link rel="apple-touch-icon" href="./assets/brand/app-icon-1024.png" />
  <link rel="stylesheet" href="./styles/tokens.css" />
  <link rel="stylesheet" href="./styles/typography.css" />
  <link rel="stylesheet" href="./styles/layout.css" />
  <link rel="stylesheet" href="./styles/components.css" />
  <link rel="stylesheet" href="./styles/skeleton.css" />
  <link rel="stylesheet" href="./styles/telegram.css" />
  <link rel="stylesheet" href="./styles/quests-specific.css" />
  <link rel="stylesheet" href="./quests.css" />
  <script>
    // Telegram WebApp SDK
    (function(){
      if (!window.Telegram || !window.Telegram.WebApp) {
        var s = document.createElement('script');
        s.src = "https://telegram.org/js/telegram-web-app.js";
        document.head.appendChild(s);
      }
    })();
  </script>
</head>
<body>
  <div id="app" class="app theme-transition">
    <!-- –≠–ª–µ–º–µ–Ω—Ç –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ —Å—Ç—è–≥–∏–≤–∞–Ω–∏—è —ç–∫—Ä–∞–Ω–∞ -->
    <div class="screen-transition" id="screenTransition"></div>
    
    <header class="container cluster" style="justify-content:space-between; padding:12px 0;">
      <div class="cluster">
        <img src="./assets/brand/logo-psy-earn-256.png" alt="logo" width="28" height="28" style="border-radius:8px;" />
        <div class="h3">Quests</div>
      </div>
      <div class="cluster">
        <button id="btnHistory" class="btn btn--ghost" aria-label="–ò—Å—Ç–æ—Ä–∏—è">üìä</button>
        <button class="btn btn--primary" id="ctaStart">–°—Ç–∞—Ä—Ç</button>
      </div>
    </header>

    <div class="container">
      <div class="card padding" style="margin-bottom: 16px;">
        <div class="cluster" style="justify-content:space-between;">
          <div class="cluster">
            <span style="font-size: 24px;">ü™ô</span>
            <div>
              <div class="num" id="mulacoinAmount">0</div>
              <div class="caption">mulacoin</div>
            </div>
          </div>
          <div class="cluster">
            <span style="font-size: 24px;">‚≠ê</span>
            <div>
              <div class="cluster">
                <span class="body">–£—Ä–æ–≤–µ–Ω—å</span>
                <span class="num" id="currentLevel">1</span>
              </div>
              <div class="progress" style="width: 120px; margin-top: 4px;">
                <div class="progress__bar" id="levelProgressBar" style="width: 0%;"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- –ö–µ–π—Å —Å–µ–∫—Ü–∏—è -->
    <section class="container" id="caseSection" style="margin-bottom: 24px;">
      <div class="card padding" style="text-align: center;">
        <div class="stack" style="align-items: center;">
          <button class="btn btn--primary" id="mysteryCaseBtn" onclick="openCase()" style="width: 120px; height: 120px; border-radius: 50%; padding: 0; margin-bottom: 16px;">
            <img src="assets/rulette/case_open.png" alt="–¢–∞–π–Ω—ã–π –∫–µ–π—Å" width="80" height="80" />
          </button>
          
          <div class="stack">
            <h2 class="h2">üîÆ –¢–∞–π–Ω—ã–π –∫–µ–π—Å</h2>
            <p class="subtle">üéÅ –ß—Ç–æ —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏? –û—Ç–∫—Ä–æ–π –∏ –ø–æ–ª—É—á–∏ —Å—é—Ä–ø—Ä–∏–∑, –∫–æ—Ç–æ—Ä—ã–π –≤–∑–æ—Ä–≤–µ—Ç —Ç–≤–æ–π –º–æ–∑–≥! –†–∏—Å–∫–Ω–∏ –∏–ª–∏ –ø–æ—Ç–µ—Ä—è–π –Ω–∞–≥—Ä–∞–¥—É –Ω–∞–≤—Å–µ–≥–¥–∞...</p>
          </div>
        </div>
      </div>
    </section>

    <section class="container" style="margin-bottom: 24px;">
      <div class="card padding">
        <div class="stack">
          <h2 class="h2">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –º–∏—Ä –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π!</h2>
          <p class="body">–í—ã–±–µ—Ä–∏ —Å–≤–æ–π –ø—É—Ç—å –∫ —É—Å–ø–µ—Ö—É! –ö–∞–∂–¥—ã–π –∫–≤–µ—Å—Ç - —ç—Ç–æ –Ω–æ–≤–∞—è —Å—Ç—É–ø–µ–Ω—å–∫–∞ –∫ –≤–µ—Ä—à–∏–Ω–µ. –ì–æ—Ç–æ–≤ —Å—Ç–∞—Ç—å –ª–µ–≥–µ–Ω–¥–æ–π?</p>
          <div class="cluster" style="justify-content: space-around; margin-top: 16px;">
            <div class="stack" style="text-align: center;">
              <div class="num" style="font-size: 24px;">7</div>
              <div class="caption">–ö–≤–µ—Å—Ç–æ–≤</div>
            </div>
            <div class="stack" style="text-align: center;">
              <div class="num" style="font-size: 24px;">‚àû</div>
              <div class="caption">–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π</div>
            </div>
            <div class="stack" style="text-align: center;">
              <div class="num" style="font-size: 24px;">100%</div>
              <div class="caption">–£—Å–ø–µ—Ö–∞</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- –ö–≤–µ—Å—Ç—ã –ø—Ä—è–º–æ –≤ HTML -->
    <section class="quests smooth-transition" id="quests">
      <!-- –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∫–≤–µ—Å—Ç - –¢–∞–π–Ω–æ–µ –º–∏—Ä–æ–≤–æ–µ –ø—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–æ -->
      <div class="container" style="margin-bottom: 32px;">
        <div class="card padding" data-theme="conspiracy" style="text-align: center; border: 2px solid var(--accent);">
          <div class="stack" style="align-items: center;">
            <h2 class="h1" style="color: var(--accent);">üèõÔ∏è –û–°–û–ë–´–ô –ö–í–ï–°–¢</h2>
            <div style="width: 100px; height: 3px; background: var(--accent); margin: 0 auto; border-radius: 2px;"></div>
          </div>
          
          <div class="card padding" style="margin-top: 20px; max-width: 600px; margin-left: auto; margin-right: auto;">
            <div class="stack">
              <div class="chip chip--accent" style="width: fit-content; margin: 0 auto;">–°—Ç—Ä–∞—Ç–µ–≥–∏—è</div>
              <h3 class="h2">üèõÔ∏è –ú–∏—Ä–æ–≤–æ–µ —Ç–∞–π–Ω–æ–µ –ø—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–æ</h3>
              <p class="body">–¢—ã –∑–Ω–∞–µ—à—å, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∑–∞ –∫—É–ª–∏—Å–∞–º–∏? –°–æ–∑–¥–∞–π —Å–≤–æ—é —Ç–∞–π–Ω—É—é –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é –∏ —É–ø—Ä–∞–≤–ª—è–π –º–∏—Ä–æ–º –∏–∑ —Ç–µ–Ω–∏. –†–∞—Å–ø—Ä–µ–¥–µ–ª–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –ø–æ —Å–µ–∫—Ç–æ—Ä–∞–º –≤–ª–∞—Å—Ç–∏ –∏ –ø–æ—Å—Ç—Ä–æ–π –∏–º–ø–µ—Ä–∏—é –≤–ª–∏—è–Ω–∏—è.</p>
              <div class="cluster" style="justify-content: center; margin-top: 16px;">
                <span class="chip chip--warn">–°–ª–æ–∂–Ω—ã–π</span>
                <span class="chip">–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–π</span>
              </div>
              <div class="cluster" style="justify-content: center; margin-top: 16px;">
                <button class="btn btn--primary" onclick="startQuest('world-government')">üöÄ –ù–∞—á–∞—Ç—å –∫–≤–µ—Å—Ç</button>
                <button class="btn btn--ghost" onclick="showQuestDetails('world-government')">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="quests-grid">
        <!-- –ü–µ—Ä–≤—ã–π –±–∏–∑–Ω–µ—Å -->
        <div class="card padding">
          <div class="stack">
            <div class="chip chip--accent" style="width: fit-content;">–ë–∏–∑–Ω–µ—Å</div>
            <h3 class="h3">–¢–≤–æ–π –ø–µ—Ä–≤—ã–π –±–∏–∑–Ω–µ—Å</h3>
            <p class="body">–û—Ç –Ω–∞–π–º–∞ –¥–æ IPO –∑–∞ 10 –º–∏–Ω—É—Ç! –°–æ–±–µ—Ä–∏ –∫–æ–º–∞–Ω–¥—É –º–µ—á—Ç—ã –∏ –ø—Ä–µ–≤—Ä–∞—Ç–∏ —Å—Ç–∞—Ä—Ç–∞–ø –≤ –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏—é. –ö—Ç–æ —Å–∫–∞–∑–∞–ª, —á—Ç–æ –Ω–µ–ª—å–∑—è —Å—Ç–∞—Ç—å –º–∏–ª–ª–∏–æ–Ω–µ—Ä–æ–º –∑–∞ –æ–¥–∏–Ω –∫–≤–µ—Å—Ç?</p>
            <div class="cluster" style="justify-content: space-between; margin-top: 16px;">
              <div class="cluster">
                <span class="chip chip--warn">–°—Ä–µ–¥–Ω–∏–π</span>
                <span class="chip">–í–∞—Ä–∏–∞—Ü–∏—è #1/10</span>
              </div>
              <div class="cluster">
                <button class="btn btn--primary" onclick="startQuest('copy')">–ù–∞—á–∞—Ç—å –∫–≤–µ—Å—Ç</button>
                <button class="btn btn--ghost" onclick="showQuestDetails('copy')">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>
              </div>
            </div>
          </div>
        </div>



        <!-- –Ø–∑—ã–∫ —Ç–µ–ª–∞ -->
        <div class="card padding">
          <div class="stack">
            <div class="chip chip--accent" style="width: fit-content;">–ü—Å–∏—Ö–æ–ª–æ–≥–∏—è</div>
            <h3 class="h3">–Ø–∑—ã–∫ —Ç–µ–ª–∞</h3>
            <p class="body">–ß–∏—Ç–∞–π –º—ã—Å–ª–∏ –ø–æ –º–∏–∫—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è–º! –°—Ç–∞–Ω—å —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–º –¥–µ—Ç–µ–∫—Ç–æ—Ä–æ–º –ª–∂–∏ –∏ —Ä–∞–∑–≥–∞–¥–∞–π –≤—Å–µ —Ç–∞–π–Ω—ã —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞. –®–µ—Ä–ª–æ–∫ –•–æ–ª–º—Å –Ω–µ—Ä–≤–Ω–æ –∫—É—Ä–∏—Ç –≤ —Å—Ç–æ—Ä–æ–Ω–∫–µ.</p>
            <div class="cluster" style="justify-content: space-between; margin-top: 16px;">
              <div class="cluster">
                <span class="chip chip--warn">–°—Ä–µ–¥–Ω–∏–π</span>
                <span class="chip">–í–∞—Ä–∏–∞—Ü–∏—è #3/10</span>
              </div>
              <div class="cluster">
                <button class="btn btn--primary" onclick="startQuest('bodylang')">–ù–∞—á–∞—Ç—å –∫–≤–µ—Å—Ç</button>
                <button class="btn btn--ghost" onclick="showQuestDetails('bodylang')">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>
              </div>
            </div>
          </div>
        </div>





        <!-- –ò–º–ø–µ—Ä–∏—è –≤–ª–∏—è–Ω–∏—è -->
        <div class="card padding">
          <div class="stack">
            <div class="chip chip--accent" style="width: fit-content;">–í–ª–∏—è–Ω–∏–µ</div>
            <h3 class="h3">–ò–º–ø–µ—Ä–∏—è –≤–ª–∏—è–Ω–∏—è</h3>
            <p class="body">–°—Ç–∞–Ω—å –º–µ–¥–∏–∞-–º–∞–≥–Ω–∞—Ç–æ–º! –°–æ–∑–¥–∞–π –∫–æ–Ω—Ç–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –∑–∞—Å—Ç–∞–≤–∏—Ç –º–∏–ª–ª–∏–æ–Ω—ã –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –∑–∞–ª–∏–ø–∞—Ç—å –Ω–∞ —ç–∫—Ä–∞–Ω–∞—Ö. –û—Ç TikTok –¥–æ Netflix - —Ç–≤–æ—è –∏–º–ø–µ—Ä–∏—è!</p>
            <div class="cluster" style="justify-content: space-between; margin-top: 16px;">
              <div class="cluster">
                <span class="chip chip--error">–°–ª–æ–∂–Ω—ã–π</span>
                <span class="chip">–í–∞—Ä–∏–∞—Ü–∏—è #6/10</span>
              </div>
              <div class="cluster">
                <button class="btn btn--primary" onclick="startQuest('funnel')">–ù–∞—á–∞—Ç—å –∫–≤–µ—Å—Ç</button>
                <button class="btn btn--ghost" onclick="showQuestDetails('funnel')">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>
              </div>
            </div>
          </div>
        </div>

        <!-- –ü—Å–∏—Ö–æ–ª–æ–≥–∏—è -->
        <div class="card padding">
          <div class="stack">
            <div class="chip chip--accent" style="width: fit-content;">–ü—Å–∏—Ö–æ–ª–æ–≥–∏—è</div>
            <h3 class="h3">–ü—Å–∏—Ö–æ–ª–æ–≥–∏—è –∑–∞—Ä–∞–±–æ—Ç–∫–∞</h3>
            <p class="body">–ó–∞—Å—Ç–∞–≤—å –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å–∞–º–∏–º –ø—Ä–æ—Å–∏—Ç—å –ø–æ–≤—ã—Å–∏—Ç—å —Ü–µ–Ω—É! –ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å –ø–æ –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–º –º–∞–Ω–∏–ø—É–ª—è—Ü–∏—è–º –≤ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–∞—Ö. –î–µ–Ω—å–≥–∏ —Å–∞–º–∏ –ø—Ä–∏–¥—É—Ç –∫ —Ç–µ–±–µ!</p>
            <div class="cluster" style="justify-content: space-between; margin-top: 16px;">
              <div class="cluster">
                <span class="chip chip--warn">–°—Ä–µ–¥–Ω–∏–π</span>
                <span class="chip">–í–∞—Ä–∏–∞—Ü–∏—è #7/10</span>
              </div>
              <div class="cluster">
                <button class="btn btn--primary" onclick="startQuest('psychology')">–ù–∞—á–∞—Ç—å –∫–≤–µ—Å—Ç</button>
                <button class="btn btn--ghost" onclick="showQuestDetails('psychology')">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>
              </div>
            </div>
          </div>
        </div>



        <!-- –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ -->
        <div class="card padding">
          <div class="stack">
            <div class="chip chip--accent" style="width: fit-content;">–°—Ç—Ä–∞—Ç–µ–≥–∏—è</div>
            <h3 class="h3">–ê–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤</h3>
            <p class="body">–†–∞–∑–≤–µ–¥–∞–π –≤—Ä–∞–∂–µ—Å–∫—É—é —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—é! –ò–∑—É—á–∏ —Å–ª–∞–±–æ—Å—Ç–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ –∏ –Ω–∞–Ω–µ—Å–∏ —É–¥–∞—Ä –≤ —Å–∞–º–æ–µ —Å–µ—Ä–¥—Ü–µ. –í–æ–π–Ω–∞ –∑–∞ —Ä—ã–Ω–æ–∫ - —Ç–≤–æ—è –∏–≥—Ä–∞!</p>
            <div class="cluster" style="justify-content: space-between; margin-top: 16px;">
              <div class="cluster">
                <span class="chip chip--error">–°–ª–æ–∂–Ω—ã–π</span>
                <span class="chip">–í–∞—Ä–∏–∞—Ü–∏—è #9/10</span>
              </div>
              <div class="cluster">
                <button class="btn btn--primary" onclick="startQuest('competitors')">–ù–∞—á–∞—Ç—å –∫–≤–µ—Å—Ç</button>
                <button class="btn btn--ghost" onclick="showQuestDetails('competitors')">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>
              </div>
            </div>
          </div>
        </div>

        <!-- –ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–Ω–¥–æ–≤ -->
        <div class="card padding">
          <div class="stack">
            <div class="chip chip--accent" style="width: fit-content;">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</div>
            <h3 class="h3">–ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–Ω–¥–æ–≤</h3>
            <p class="body">–ü—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–π –±—É–¥—É—â–µ–µ —Ä—ã–Ω–∫–∞! –°—Ç–∞–Ω—å –ø—Ä–æ—Ä–æ–∫–æ–º –±–∏–∑–Ω–µ—Å–∞ –∏ –ø–æ–π–º–∞–π –≤–æ–ª–Ω—É —Ç—Ä–µ–Ω–¥–∞ –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –æ–Ω–∞ –Ω–∞–∫—Ä–æ–µ—Ç –≤—Å–µ—Ö. –ì—É–≥–ª –±—É–¥–µ—Ç –∑–∞–≤–∏–¥–æ–≤–∞—Ç—å —Ç–≤–æ–µ–π –∏–Ω—Ç—É–∏—Ü–∏–∏!</p>
            <div class="cluster" style="justify-content: space-between; margin-top: 16px;">
              <div class="stack">
                <span class="chip chip--error">–°–ª–æ–∂–Ω—ã–π</span>
                <span class="chip">–í–∞—Ä–∏–∞—Ü–∏—è #10/10</span>
              </div>
              <div class="cluster">
                <button class="btn btn--primary" onclick="startQuest('trends')">–ù–∞—á–∞—Ç—å –∫–≤–µ—Å—Ç</button>
                <button class="btn btn--ghost" onclick="showQuestDetails('trends')">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <footer class="container" style="margin-top: 32px; margin-bottom: 16px;">
      <div class="card padding" style="text-align: center;">
        <p class="subtle">–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π —á—ë—Ä–Ω–æ‚Äë–±–µ–ª—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–∏. –ù–∏–∫–∞–∫–∏—Ö –æ—Ç–≤–ª–µ–∫–∞—é—â–∏—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤ - —Ç–æ–ª—å–∫–æ —Ç–≤–æ–∏ —Ü–µ–ª–∏ –∏ –∞–º–±–∏—Ü–∏–∏!</p>
      </div>
    </footer>
  </div>

  <!-- –ú–æ–¥–∞–ª -->
  <div id="modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle" aria-describedby="modalDesc">
    <div class="modal__overlay" data-close></div>
    <div class="modal__dialog">
      <div class="modal__content">
        <div class="modal__header">
          <h2 class="modal__title" id="modalTitle">–î–µ—Ç–∞–ª–∏ –∫–≤–µ—Å—Ç–∞</h2>
          <button class="modal__close" id="modalClose" aria-label="–ó–∞–∫—Ä—ã—Ç—å">√ó</button>
        </div>
        <div id="modalBody"></div>
      </div>
    </div>
  </div>

  <!-- Toast -->
  <div id="toast" class="toast toast--tg" role="status" aria-live="polite"></div>

  <!-- –ü—Ä–æ—Å—Ç–æ–π JavaScript -->
  <script src="./js/telegram.js"></script>
  <script src="./js/theme-switcher.js"></script>
  <script>
    // –ü—Ä–æ—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã
    function openCase() {
      console.log('–û—Ç–∫—Ä—ã–≤–∞–µ–º –∫–µ–π—Å...');
      // Haptic feedback
      if (window.telegramApp?.haptic) {
        window.telegramApp.haptic.medium();
      }
      // –ü—Ä–æ—Å—Ç–æ–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–µ–π—Å–∞
      window.location.href = 'case.html';
    }

    function startQuest(questId) {
      console.log('–ù–∞—á–∏–Ω–∞–µ–º –∫–≤–µ—Å—Ç:', questId);
      // Haptic feedback
      if (window.telegramApp?.haptic) {
        window.telegramApp.haptic.medium();
      }
      // –ü—Ä–æ—Å—Ç–æ–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –∫–≤–µ—Å—Ç
      window.location.href = 'quests/' + questId + '.html';
    }

    function showQuestDetails(questId) {
      console.log('–ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–µ—Ç–∞–ª–∏ –∫–≤–µ—Å—Ç–∞:', questId);
      // Haptic feedback
      if (window.telegramApp?.haptic) {
        window.telegramApp.haptic.light();
      }
      // –ü—Ä–æ—Å—Ç–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
      const modal = document.getElementById('modal');
      const modalBody = document.getElementById('modalBody');
      const modalTitle = document.getElementById('modalTitle');
      
      const questData = {
        'copy': { name: 'üè¢ –¢–≤–æ–π –ø–µ—Ä–≤—ã–π –±–∏–∑–Ω–µ—Å', description: '–°–æ–∑–¥–∞–π –∏ —É–ø—Ä–∞–≤–ª—è–π —Å–≤–æ–∏–º –±–∏–∑–Ω–µ—Å–æ–º —Å –Ω—É–ª—è.' },
        'world-government': { name: 'üèõÔ∏è –ú–∏—Ä–æ–≤–æ–µ —Ç–∞–π–Ω–æ–µ –ø—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–æ', description: '–°–æ–∑–¥–∞–π –º–∏—Ä–æ–≤–æ–µ —Ç–∞–π–Ω–æ–µ –ø—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–æ, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—è –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –ø–æ —Å–µ–∫—Ç–æ—Ä–∞–º –≤–ª–∞—Å—Ç–∏.' },
        'bodylang': { name: '–Ø–∑—ã–∫ —Ç–µ–ª–∞', description: '–†–∞—Å–ø–æ–∑–Ω–∞–π –Ω–µ–≤–µ—Ä–±–∞–ª—å–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã 2D‚Äë–ø–µ—Ä—Å–æ–Ω–∞–∂–∞.' },
        'funnel': { name: '–ò–º–ø–µ—Ä–∏—è –≤–ª–∏—è–Ω–∏—è', description: '–°–æ–∑–¥–∞–π –º–µ–¥–∏–∞-–∏–º–ø–µ—Ä–∏—é –∏ —É–ø—Ä–∞–≤–ª—è–π –º–∞—Å—Å–æ–≤—ã–º —Å–æ–∑–Ω–∞–Ω–∏–µ–º.' },
        'psychology': { name: '–ü—Å–∏—Ö–æ–ª–æ–≥–∏—è –∑–∞—Ä–∞–±–æ—Ç–∫–∞', description: '–ò—Å–ø–æ–ª—å–∑—É–π –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ö–Ω–∏–∫–∏ –¥–ª—è —É—Å–ø–µ—à–Ω—ã—Ö –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–æ–≤.' },
        'competitors': { name: '–ê–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤', description: '–ò–∑—É—á–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—É—é —Å—Ä–µ–¥—É –∏ –≤—ã–±–µ—Ä–∏ –Ω–∞–∏–±–æ–ª–µ–µ —Å–∏–ª—å–Ω–æ–≥–æ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∞.' },
        'trends': { name: '–ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–Ω–¥–æ–≤', description: '–°—Ç–∞–Ω—å –º–∞—Å—Ç–µ—Ä–æ–º —Ä—ã–Ω–æ—á–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏ —Ç—Ä–µ–Ω–¥–æ–≤.' }
      };
      
      const quest = questData[questId];
      if (quest) {
        modalTitle.textContent = quest.name;
        modalBody.innerHTML = `
          <p class="body">${quest.description}</p>
          <div class="cluster" style="justify-content: flex-end; margin-top: 16px;">
            <button class="btn btn--primary" onclick="startQuest('${questId}')">–ù–∞—á–∞—Ç—å –∫–≤–µ—Å—Ç</button>
          </div>
        `;
        modal.setAttribute('data-open', 'true');
      }
    }

    // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–∞
    document.getElementById('modalClose').addEventListener('click', function() {
      document.getElementById('modal').removeAttribute('data-open');
    });

    // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ –º–æ–¥–∞–ª–∞
    document.getElementById('modal').addEventListener('click', function(e) {
      if (e.target === this || e.target.hasAttribute('data-close')) {
        this.removeAttribute('data-open');
      }
    });

    // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ Escape
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        const modal = document.getElementById('modal');
        if (modal.hasAttribute('data-open')) {
          modal.removeAttribute('data-open');
        }
      }
    });

    // –ü—Ä–æ—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è toast
    function toast(message, type = 'info') {
      const toastEl = document.getElementById('toast');
      toastEl.textContent = message;
      toastEl.className = `toast toast--tg show ${type}`;
      // Haptic feedback
      if (window.telegramApp?.haptic) {
        if (type === 'success') {
          window.telegramApp.haptic.success();
        } else if (type === 'error') {
          window.telegramApp.haptic.error();
        } else {
          window.telegramApp.haptic.light();
        }
      }
      setTimeout(() => toastEl.classList.remove('show'), 3000);
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    document.addEventListener('DOMContentLoaded', function() {
      console.log('–ö–≤–µ—Å—Ç—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã!');
      
      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —É—Ä–æ–≤–Ω—è
      const levelProgressBar = document.getElementById('levelProgressBar');
      if (levelProgressBar) {
        // –ü—Ä–∏–º–µ—Ä: 40% –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
        levelProgressBar.style.width = '40%';
      }
      
      // Haptic feedback –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
      if (window.telegramApp?.haptic) {
        window.telegramApp.haptic.success();
      }
      
      toast('–ö–≤–µ—Å—Ç—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ!', 'success');
    });

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ —Å haptic feedback
    document.addEventListener('click', function(e) {
      const button = e.target.closest('.btn');
      if (button && window.telegramApp?.haptic) {
        window.telegramApp.haptic.light();
      }
    });

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è CTA –∫–Ω–æ–ø–∫–∏
    document.getElementById('ctaStart')?.addEventListener('click', function() {
      if (window.telegramApp?.haptic) {
        window.telegramApp.haptic.medium();
      }
      toast('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –º–∏—Ä –∫–≤–µ—Å—Ç–æ–≤!', 'success');
    });
  </script>
</body>
</html>
